
<div *ngIf="userIsAuth" class="container" >
  <div>
    <mat-tab-group (selectedTabChange)="onTabChanged($event);" animationDuration="0ms">
        <mat-tab label="Liquidation"></mat-tab>
        <mat-tab label="Tech Liquidators"></mat-tab>
    </mat-tab-group>
  </div><!--
  <div>
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link-active" href="#">Liquidation</a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link">Tech Liquidators</a>
      </li>
    </ul>
  </div>-->
  <h1 style="text-align: center;" >  <span class="label label-default">Coming Soon!</span></h1>
  <div style="display: inline-flex;" class="selector">
    <mat-form-field style="padding-left: 1%; width: 400px;">
      <mat-label>Choose a manifest</mat-label>
      <mat-select name="manifest" (selectionChange)="getManifestDetails($event.value)">
        <mat-option *ngFor="let manifest of manifests;let i = index" value="{{manifest.id}}">
          <p *ngIf="manifest.total_price >= 1000;">ID: {{manifest.transaction_id}} &emsp; &nbsp; &nbsp; &nbsp; Date: {{manifest.date_purchased | date: 'M/dd/yyyy'}} &nbsp; &nbsp; Amount: {{manifest.total_price | currency: '$'}}</p>
          <p *ngIf="manifest.total_price < 1000;">ID: {{manifest.transaction_id}} &emsp; &nbsp; &nbsp; &nbsp;  Date: {{manifest.date_purchased | date: 'M/dd/yyyy'}} &nbsp; &nbsp; Amount: {{manifest.total_price | currency: '$'}}</p>
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div *ngIf="source=='liquidation'">
      <button *ngIf="!liqSeeded" type="button" class="btn btn-sm btn-danger seed" (click)="seedUser(source)">Get Manifests</button>
      <button *ngIf="liqSeeded" type="button" class="btn btn-sm btn-success seed" (click)="updateUser(source)">Update Manifests</button>
    </div>

    <div *ngIf="source=='techliquidators'">
      <button *ngIf="!techSeeded" type="button" class="btn btn-sm btn-danger seed" (click)="seedUser(source)">Get Manifests</button>
      <button *ngIf="techSeeded" type="button" class="btn btn-sm btn-success seed" (click)="updateUser(source)">Update Manifests</button>
    </div>
  </div>


  <h4 *ngIf="current_manifest" class="auction-title">{{ current_manifest.auction_title }}</h4>
  <table class="table table-striped items-table">
    <thead>
      <tr style="font-weight: 700;" align="center" bgcolor="99CCFF">
        <th>Item</th>
        <th>Quantity</th>
        <th>MSRP</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items;let i = index" class="table-row ">
        <td class="table-detail" >{{item.name}}</td>
        <td class="table-detail">{{ item.quantity }}</td>
        <td class="table-detail">{{ item.price }}</td>

      </tr>
      <tr style="font-weight: 700;" align="center" >
        <th >Total</th>
        <th>{{manifestQuantity}}</th>
        <th>${{priceTotal.toFixed(2)}}</th>
      </tr>
    </tbody>
  </table>

  <br>
  <h4 *ngIf="current_manifest" class="summary">Trans ID: <span class="light-text">{{current_manifest.transaction_id}}</span> &emsp; &nbsp; &nbsp; Amount: <span  class="light-text">
    {{current_manifest.total_price | currency: '$'}}
  </span>  &nbsp; &nbsp; Date: <span  class="light-text">
    {{current_manifest.date_purchased | date: 'M/d/yyyy'}}
  </span> </h4>
  <a *ngIf="!connectedBefore" href="
  https://auth.ebay.com/oauth2/authorize?client_id=V4ULLC-Inventor-PRD-c2eba4255-ca5c65cc&response_type=code&redirect_uri=V4U_LLC-V4ULLC-Inventor-geqkxzxxi&scope=https://api.ebay.com/oauth/api_scope https://api.ebay.com/oauth/api_scope/sell.marketing.readonly https://api.ebay.com/oauth/api_scope/sell.marketing https://api.ebay.com/oauth/api_scope/sell.inventory.readonly https://api.ebay.com/oauth/api_scope/sell.inventory https://api.ebay.com/oauth/api_scope/sell.account.readonly https://api.ebay.com/oauth/api_scope/sell.account https://api.ebay.com/oauth/api_scope/sell.fulfillment.readonly https://api.ebay.com/oauth/api_scope/sell.fulfillment https://api.ebay.com/oauth/api_scope/sell.analytics.readonly https://api.ebay.com/oauth/api_scope/sell.finances https://api.ebay.com/oauth/api_scope/sell.payment.dispute https://api.ebay.com/oauth/api_scope/commerce.identity.readonly" class="btn btn-primary">
    Connect to eBay!
  </a>
  <button *ngIf="connectedBefore" class="btn btn-success">You are already connected to eBay!</button>
</div>

